import{S as q,i as A,s as H,e as w,b as $,t as _,d as C,f as d,h as p,K as L,o as K,g as F,l as g,r as R,a as G,w as x,m as k,n as v,u as S,c as P,x as I,p as y,H as b,a8 as N,y as D,I as M,B as E}from"../../chunks/index-82e3b787.js";import{g as T}from"../../chunks/navigation-75a744b1.js";import{p as U,t as j,l as z,B as J}from"../../chunks/Button-010cea2f.js";import{t as O,l as Q}from"../../chunks/store-d9f64d41.js";import{G as W,F as X,L as Y}from"../../chunks/Game-d2dbb4e1.js";import"../../chunks/singletons-eca981c1.js";import"../../chunks/index-950c601e.js";function Z(u){let t,e,l,o,s,r,i,a,c,n,V;return a=new J({props:{title:"start custom audial",type:"submit",$$slots:{default:[et]},$$scope:{ctx:u}}}),a.$on("click",u[5]),{c(){t=g("div"),e=g("div"),l=R("paste the link to any spotify playlist below"),o=G(),s=g("input"),r=G(),i=g("div"),x(a.$$.fragment),this.h()},l(f){t=k(f,"DIV",{class:!0});var m=v(t);e=k(m,"DIV",{class:!0});var h=v(e);l=S(h,"paste the link to any spotify playlist below"),h.forEach(p),o=P(m),s=k(m,"INPUT",{class:!0,name:!0,placeholder:!0}),r=P(m),i=k(m,"DIV",{class:!0});var B=v(i);I(a.$$.fragment,B),B.forEach(p),m.forEach(p),this.h()},h(){y(e,"class","text-xl text-center mx-auto w-full text-[#33c9de] mb-3"),y(s,"class","p-2 border-2 w-full text-black rounded-sm border-[#33c9fe] bg-gray-100 hover:border-[#4d9eed] focus:border-[#75e5ef] outline-none transition-all duration-200 placeholder-gray-400"),y(s,"name","spotify playlist input"),y(s,"placeholder","spotify playlist link"),y(i,"class","text-lg w-full mx-auto text-center my-4 "),y(t,"class","w-full w-10/12 max-w-xl mx-auto my-5")},m(f,m){$(f,t,m),b(t,e),b(e,l),b(t,o),b(t,s),N(s,u[0]),b(t,r),b(t,i),D(a,i,null),c=!0,n||(V=M(s,"input",u[4]),n=!0)},p(f,m){m&1&&s.value!==f[0]&&N(s,f[0]);const h={};m&128&&(h.$$scope={dirty:m,ctx:f}),a.$set(h)},i(f){c||(d(a.$$.fragment,f),c=!0)},o(f){_(a.$$.fragment,f),c=!1},d(f){f&&p(t),E(a),n=!1,V()}}}function tt(u){let t,e,l,o;const s=[rt,at],r=[];function i(a,c){return a[2]?0:1}return t=i(u),e=r[t]=s[t](u),{c(){e.c(),l=w()},l(a){e.l(a),l=w()},m(a,c){r[t].m(a,c),$(a,l,c),o=!0},p(a,c){let n=t;t=i(a),t!==n&&(F(),_(r[n],1,1,()=>{r[n]=null}),C(),e=r[t],e||(e=r[t]=s[t](a),e.c()),d(e,1),e.m(l.parentNode,l))},i(a){o||(d(e),o=!0)},o(a){_(e),o=!1},d(a){r[t].d(a),a&&p(l)}}}function et(u){let t;return{c(){t=R("start your custom audial")},l(e){t=S(e,"start your custom audial")},m(e,l){$(e,t,l)},d(e){e&&p(t)}}}function at(u){let t,e,l,o,s;return e=new W({props:{custom:!0,random:!0}}),o=new X({props:{custom:!0}}),{c(){t=g("div"),x(e.$$.fragment),l=G(),x(o.$$.fragment),this.h()},l(r){t=k(r,"DIV",{class:!0});var i=v(t);I(e.$$.fragment,i),i.forEach(p),l=P(r),I(o.$$.fragment,r),this.h()},h(){y(t,"class","max-w-screen-md text-center p-3 mx-auto")},m(r,i){$(r,t,i),D(e,t,null),$(r,l,i),D(o,r,i),s=!0},i(r){s||(d(e.$$.fragment,r),d(o.$$.fragment,r),s=!0)},o(r){_(e.$$.fragment,r),_(o.$$.fragment,r),s=!1},d(r){r&&p(t),E(e),r&&p(l),E(o,r)}}}function rt(u){let t,e;return t=new Y({}),{c(){x(t.$$.fragment)},l(l){I(t.$$.fragment,l)},m(l,o){D(t,l,o),e=!0},i(l){e||(d(t.$$.fragment,l),e=!0)},o(l){_(t.$$.fragment,l),e=!1},d(l){E(t,l)}}}function lt(u){let t,e,l,o;const s=[tt,Z],r=[];function i(a,c){return a[1]?0:1}return t=i(u),e=r[t]=s[t](u),{c(){e.c(),l=w()},l(a){e.l(a),l=w()},m(a,c){r[t].m(a,c),$(a,l,c),o=!0},p(a,[c]){let n=t;t=i(a),t===n?r[t].p(a,c):(F(),_(r[n],1,1,()=>{r[n]=null}),C(),e=r[t],e?e.p(a,c):(e=r[t]=s[t](a),e.c()),d(e,1),e.m(l.parentNode,l))},i(a){o||(d(e),o=!0)},o(a){_(e),o=!1},d(a){r[t].d(a),a&&p(l)}}}function st(u,t,e){let l,o;L(u,U,n=>e(6,l=n)),L(u,Q,n=>e(2,o=n));let s="",r=!1;U.subscribe(n=>{!n.url.searchParams.get("playlist")&&n.url.pathname.includes("custom")&&e(1,r=!1)}),K(async()=>{l.url.searchParams.get("playlist")&&await i(l.url.searchParams.get("playlist"))});const i=async n=>{if(!s&&!n)return j.push("please provide a valid spotify playlist url.");n=n||new URL(s).pathname.split("/")[2],await T("/custom/random?playlist="+n),e(1,r=!0),O.set({attempts:0,type:"custom_random",guesses:[],date:new Date,correct:!1}),await z(n,!0)};function a(){s=this.value,e(0,s)}return[s,r,o,i,a,()=>i()]}class pt extends q{constructor(t){super(),A(this,t,st,lt,H,{})}}export{pt as default};
