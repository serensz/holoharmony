import{a6 as p,S as v,i as y,s as w,a1 as k,l as T,m as S,n as B,h,p as _,b as N,I as D,a3 as j,a4 as C,a5 as E,f as M,t as A,a7 as G}from"./index-82e3b787.js";import{e as O,l as m,a as R,c as U,p as q}from"./store-d9f64d41.js";import{w as I}from"./index-950c601e.js";const L=()=>{const e=p("__svelte__");return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:e.navigating.subscribe}},session:e.session,updated:e.updated}},Y={subscribe(e){return L().page.subscribe(e)}},z="https://us-central1-audial-6e1bd.cloudfunctions.net",F=async(e,t)=>{const r=await fetch(`${z}/daily?playlist=${e}&random=${t}&locale=${new Date().toDateString()}`,{method:"GET",cache:"reload"});return await O.track("get-track",{playlist:e||"default",random:t}),r.status,await r.json()},H=e=>({name:e.name,artist:e.artists?e.artists[0].name:"unknown artist",id:e.id,preview:e.preview_url}),Z=(e,t)=>{const r=Math.abs(e.getTime()-t.getTime());return Math.ceil(r/(1e3*60*60*24))},x=async(e,t)=>{m.set(!0);const r=await F(e,t);R.set(r.tracks);const i=H(r.daily);U.set(i),q.set(e),m.set(!1)},J={duration:4e3,initial:1,next:0,pausable:!1,dismissable:!0,reversed:!1,intro:{x:256}},K=()=>{const{subscribe:e,update:t}=I([]);let r=0;const i={},c=s=>s instanceof Object;return{subscribe:e,push:(s,n={})=>{const u={target:"default",...c(s)?s:{...n,msg:s}},l=i[u.target]||{},f={...J,...l,...u,theme:{...l.theme,...u.theme},classes:[...l.classes||[],...u.classes||[]],id:++r};return t(g=>f.reversed?[...g,f]:[f,...g]),r},pop:s=>{t(n=>{if(!n.length||s===0)return[];if(c(s))return n.filter(l=>s(l));const u=s||Math.max(...n.map(l=>l.id));return n.filter(l=>l.id!==u)})},set:(s,n={})=>{const u=c(s)?{...s}:{...n,id:s};t(l=>{const f=l.findIndex(g=>g.id===u.id);return f>-1&&(l[f]={...l[f],...u}),l})},_init:(s="default",n={})=>(i[s]=n,i)}},$=K();function P(e){let t,r,i,c,b;const d=e[5].default,o=k(d,e,e[4],null);return{c(){t=T("button"),o&&o.c(),this.h()},l(a){t=S(a,"BUTTON",{title:!0,class:!0});var s=B(t);o&&o.l(s),s.forEach(h),this.h()},h(){_(t,"title",e[1]),_(t,"class",r=`p-2 text-white ${e[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${e[0]}`)},m(a,s){N(a,t,s),o&&o.m(t,null),i=!0,c||(b=D(t,"click",e[6]),c=!0)},p(a,[s]){o&&o.p&&(!i||s&16)&&j(o,d,a,a[4],i?E(d,a[4],s,null):C(a[4]),null),(!i||s&2)&&_(t,"title",a[1]),(!i||s&5&&r!==(r=`p-2 text-white ${a[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${a[0]}`))&&_(t,"class",r)},i(a){i||(M(o,a),i=!0)},o(a){A(o,a),i=!1},d(a){a&&h(t),o&&o.d(a),c=!1,b()}}}function Q(e,t,r){let{$$slots:i={},$$scope:c}=t,{type:b}=t,{className:d=""}=t,{title:o}=t,a;switch(b){case"primary":a="bg-blue-500 hover:bg-[#33c9fe]";break;case"submit":a="bg-[#00384A] hover:bg-[#004158]";break;case"warning":a="bg-orange-600 hover:bg-orange-500";break;case"breaking":a="bg-red-600 hover:bg-red-500";break;case"muted":a="bg-gray-600 hover:bg-gray-500";break;default:a="bg-blue-500 hover:bg-[#33c9fe]";break}function s(n){G.call(this,e,n)}return e.$$set=n=>{"type"in n&&r(3,b=n.type),"className"in n&&r(0,d=n.className),"title"in n&&r(1,o=n.title),"$$scope"in n&&r(4,c=n.$$scope)},[d,o,a,b,c,i,s]}class ee extends v{constructor(t){super(),y(this,t,Q,P,w,{type:3,className:0,title:1})}}export{ee as B,H as c,Z as d,x as l,Y as p,$ as t};
